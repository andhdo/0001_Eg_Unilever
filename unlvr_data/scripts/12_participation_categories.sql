CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `participation_categories` AS select `category_data`.`market_share_UL` AS `market_share`,'Unilever' AS `group_description`,`category_data`.`year` AS `year`,`category_data`.`cat_id` AS `cat_id`, `category_data`.`mean_UL_gross_margin` AS `gross_margin`, (`category_data`.`market_share_UL` * `category_data`.`mean_UL_gross_margin`) AS `gross_profit` from `category_data` union select (1 - `category_data`.`market_share_UL`) AS `market_share`,'Competition' AS `group_description`,`category_data`.`year` AS `year`,`category_data`.`cat_id` AS `cat_id`, null AS `gross_margin`, (1 - (`category_data`.`market_share_UL` * `category_data`.`mean_UL_gross_margin`)) AS `gross_profit` from `category_data`;